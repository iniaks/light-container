(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36e1460f"],{"1dde":function(t,n,e){var i=e("d039"),r=e("b622"),o=e("2d00"),s=r("species");t.exports=function(t){return o>=51||!i((function(){var n=[],e=n.constructor={};return e[s]=function(){return{foo:1}},1!==n[t](Boolean).foo}))}},8418:function(t,n,e){"use strict";var i=e("c04e"),r=e("9bf2"),o=e("5c6c");t.exports=function(t,n,e){var s=i(n);s in t?r.f(t,s,o(0,e)):t[s]=e}},"885b":function(t,n,e){"use strict";e("ee13")},9726:function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"reading-container"},[e("div",{staticClass:"reading-context"},[e("h2",[t._v(t._s(t.book_title))]),t._l(t.context,(function(n,i){return e("span",{key:"context-"+i,class:["reading-char",t.hides.indexOf(i)>=0?"reading":"",i==t.cursor?"sliding":"",t.corrects.indexOf(i)>=0?"correct":"",t.misses.indexOf(i)>=0?"miss":"","\n"==n?"enter":""]},[t._v(" "+t._s(n)+" ")])}))],2),e("div",{staticClass:"reading-opts"},[e("div",{staticClass:"reading-opts__btn",on:{click:t.read}},[t._v(t._s(t.hides.length>0||t.cursor>=0?"继续":"开始阅读"))]),e("div",{staticClass:"reading-opts__btn",on:{click:t.pause}},[t._v("暂停")]),t.page>0?e("div",{staticClass:"reading-opts__btn",on:{click:function(n){return t.turn(-1)}}},[t._v("上一页")]):t._e(),t.page<t.book.length-1?e("div",{staticClass:"reading-opts__btn",on:{click:function(n){return t.turn(1)}}},[t._v("下一页")]):t._e(),e("div",{staticClass:"reading-opts__btn",on:{click:t.play}},[t._v("开始")]),e("div",{staticClass:"reading-opts__btn"},[e("span",{class:[t.hits.word?"show":""]},[t._v("句")]),e("span",{class:[t.hits.comma?"show":""]},[t._v("读")])]),e("div",{staticClass:"reading-opts__btn"},[t._v(" 正确："+t._s(t.board.correct)+" ")]),e("div",{staticClass:"reading-opts__btn"},[t._v(" 错误："+t._s(t.board.miss)+" ")])])])},r=[],o=(e("99af"),e("a15b"),e("fb6a"),e("73ef")),s=e.n(o),c=e("3397"),a=e("a7b5"),u={data:function(){return{timer:null,book_title:"",book:[],context:"",count:-1,cursor:-1,hides:[],mode:"",page:0,commas:["，","。","：","”","“","；","《","》"],hits:{word:!1,comma:!1},board:{correct:0,miss:0},corrects:[],misses:[]}},methods:{play:function(){this.setkey(),this.recover()},check:function(){var t=this.context[this.count];return this.commas.indexOf(t)>=0?"comma":"word"},deal:function(t){var n=this;this.hits[t]=!0,this.check()==t?(this.corrects.push(this.count),this.board.correct++):(this.misses.push(this.count),this.board.miss++),setTimeout((function(){n.hits[t]=!1}),100)},setkey:function(){var t=this;window.addEventListener("keypress",(function(n){"KeyZ"==n.code?t.deal("word"):"KeyX"==n.code&&t.deal("comma")}))},init:function(t){var n=this;s.a.get("".concat(c["a"],"/reading/book?addr=").concat(this.$route.query.addr)).then((function(t){n.book_title=t.data.title,n.separate(t.data.content),n.context=n.book[n.page].join("\n")})).catch((function(t){return t}))},separate:function(t){for(var n=5,e=0;e<t.length;e+=n)this.book.push(t.slice(e,e+n))},read:function(){this.recover()},recover:function(){var t=this;this.mode="recovering",t.timer=setInterval((function(){t.count<=t.context.length?(t.count++,t.hides.push(t.count)):clearInterval(t.timer)}),500)},appear:function(){var t=this;this.mode="reading",this.timer=setInterval((function(){t.cursor<=t.context.length?t.cursor++:(clearInterval(t.timer),t.recover())}),250)},disappear:function(){var t=this;this.mode="disappear",this.timer=setInterval((function(){t.hides.length>0?t.hides.shift():(clearInterval(t.timer),t.count=-1,t.cursor=-1)}),200)},pause:function(){clearInterval(this.timer)},turn:function(t){this.page=this.page+t,this.context=this.book[this.page].join("\n"),this.hides=[],this.count=-1,this.cursor=-1,this.mode="",clearInterval(this.timer)}},mounted:function(){this.context=a["a"].join("\n"),this.setkey()}},d=u,h=(e("885b"),e("2877")),f=Object(h["a"])(d,i,r,!1,null,"a8a368a0",null);n["default"]=f.exports},"99af":function(t,n,e){"use strict";var i=e("23e7"),r=e("d039"),o=e("e8b5"),s=e("861d"),c=e("7b0b"),a=e("50c4"),u=e("8418"),d=e("65f0"),h=e("1dde"),f=e("b622"),l=e("2d00"),v=f("isConcatSpreadable"),p=9007199254740991,b="Maximum allowed index exceeded",m=l>=51||!r((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),_=h("concat"),g=function(t){if(!s(t))return!1;var n=t[v];return void 0!==n?!!n:o(t)},k=!m||!_;i({target:"Array",proto:!0,forced:k},{concat:function(t){var n,e,i,r,o,s=c(this),h=d(s,0),f=0;for(n=-1,i=arguments.length;n<i;n++)if(o=-1===n?s:arguments[n],g(o)){if(r=a(o.length),f+r>p)throw TypeError(b);for(e=0;e<r;e++,f++)e in o&&u(h,f,o[e])}else{if(f>=p)throw TypeError(b);u(h,f++,o)}return h.length=f,h}})},a15b:function(t,n,e){"use strict";var i=e("23e7"),r=e("44ad"),o=e("fc6a"),s=e("a640"),c=[].join,a=r!=Object,u=s("join",",");i({target:"Array",proto:!0,forced:a||!u},{join:function(t){return c.call(o(this),void 0===t?",":t)}})},a640:function(t,n,e){"use strict";var i=e("d039");t.exports=function(t,n){var e=[][t];return!!e&&i((function(){e.call(null,n||function(){throw 1},1)}))}},a7b5:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var i=["舜年二十以孝闻，年三十尧举之，年五十摄行天子事，年五十八尧崩，年六十一代尧践帝位。践帝位三十九年，南巡狩，崩於苍梧之野。葬於江南九疑，是为零陵。舜之践帝位，载天子旗，往朝父瞽叟，夔夔唯谨，如子道。封弟象为诸侯。舜子商均亦不肖，舜乃豫荐禹於天。十七年而崩。三年丧毕，禹亦乃让舜子，如舜让尧子。诸侯归之，然後禹践天子位。尧子丹硃，舜子商均，皆有疆土，以奉先祀。服其服，礼乐如之。以客见天子，天子弗臣，示不敢专也。","自黄帝至舜、禹，皆同姓而异其国号，以章明德。故黄帝为有熊，帝颛顼为高陽，帝喾为高辛，帝尧为陶唐，帝舜为有虞。帝禹为夏后而别氏，姓姒氏。契为商，姓子氏。弃为周，姓姬氏。","太史公曰：学者多称五帝，尚矣。然尚书独载尧以来；而百家言黄帝，其文不雅驯，荐绅先生难言之。孔子所传宰予问五帝德及帝系姓，儒者或不传。余尝西至空桐，北过涿鹿，东渐於海，南浮江淮矣，至长老皆各往往称黄帝、尧、舜之处，风教固殊焉，总之不离古文者近是。予观春秋、国语，其发明五帝德、帝系姓章矣，顾弟弗深考，其所表见皆不虚。书缺有间矣，其轶乃时时见於他说。非好学深思，心知其意，固难为浅见寡闻道也。余并论次，择其言尤雅者，故著为本纪书首。","帝出少典，居于轩丘。既代炎历，遂禽蚩尤。高陽嗣位，静深有谋。小大远近，莫不怀柔。爰洎帝喾，列圣同休。帝挚之弟，其号放勋。就之如日，望之如云。郁夷东作，昧谷西曛。明扬仄陋，玄德升闻。能让天下，贤哉二君！"]},ee13:function(t,n,e){},fb6a:function(t,n,e){"use strict";var i=e("23e7"),r=e("861d"),o=e("e8b5"),s=e("23cb"),c=e("50c4"),a=e("fc6a"),u=e("8418"),d=e("b622"),h=e("1dde"),f=h("slice"),l=d("species"),v=[].slice,p=Math.max;i({target:"Array",proto:!0,forced:!f},{slice:function(t,n){var e,i,d,h=a(this),f=c(h.length),b=s(t,f),m=s(void 0===n?f:n,f);if(o(h)&&(e=h.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)?r(e)&&(e=e[l],null===e&&(e=void 0)):e=void 0,e===Array||void 0===e))return v.call(h,b,m);for(i=new(void 0===e?Array:e)(p(m-b,0)),d=0;b<m;b++,d++)b in h&&u(i,d,h[b]);return i.length=d,i}})}}]);
//# sourceMappingURL=chunk-36e1460f.0aab58d2.js.map