"use strict";(self["webpackChunklight_container"]=self["webpackChunklight_container"]||[]).push([[360],{360:function(e,t,i){i.r(t),i.d(t,{default:function(){return v}});var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container",staticStyle:{"padding-bottom":"100px"}},[i("div",[e._v(" 卦名： "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.info.name,expression:"info.name"}],domProps:{value:e.info.name},on:{input:function(t){t.target.composing||e.$set(e.info,"name",t.target.value)}}}),i("br"),e._v(" 帛本卦名： "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.info.silk_name,expression:"info.silk_name"}],domProps:{value:e.info.silk_name},on:{input:function(t){t.target.composing||e.$set(e.info,"silk_name",t.target.value)}}}),i("br"),e._v(" 楚简卦名： "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.info.slip_name,expression:"info.slip_name"}],domProps:{value:e.info.slip_name},on:{input:function(t){t.target.composing||e.$set(e.info,"slip_name",t.target.value)}}}),i("br"),e._v(" 卦序："),i("input",{directives:[{name:"model",rawName:"v-model",value:e.info.order,expression:"info.order"}],attrs:{type:"number"},domProps:{value:e.info.order},on:{input:function(t){t.target.composing||e.$set(e.info,"order",t.target.value)}}})]),i("hr"),i("div",[e._v(" 宫卦： "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.info.group,expression:"info.group"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.info,"group",t.target.multiple?i:i[0])}}},e._l(e.trigrams,(function(t){return i("option",{key:"group-"+t._id,domProps:{value:t._id}},[e._v(" "+e._s(t.name)+"宫 "+e._s(e.graphs[t.name])+" ")])})),0),i("br"),e._v(" 宫位： "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.info.group_index,expression:"info.group_index"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.info,"group_index",t.target.multiple?i:i[0])}}},e._l(e.group_names,(function(t,n){return i("option",{key:"group-index-"+n,domProps:{value:n}},[e._v(" "+e._s(t)+" ")])})),0)]),i("hr"),i("div",[e._v(" 上（从）卦： "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.info.secondary,expression:"info.secondary"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.info,"secondary",t.target.multiple?i:i[0])}}},e._l(e.trigrams,(function(t){return i("option",{key:"secondary-"+t._id,domProps:{value:t._id}},[e._v(" "+e._s(t.name)+" "+e._s(e.graphs[t.name])+" ")])})),0)]),i("div",[e._v(" 下（主）卦： "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.info.primary,expression:"info.primary"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.info,"primary",t.target.multiple?i:i[0])}}},e._l(e.trigrams,(function(t){return i("option",{key:"primary-"+t._id,domProps:{value:t._id}},[e._v(" "+e._s(t.name)+" "+e._s(e.graphs[t.name])+" ")])})),0)]),i("hr"),i("div",[e._v(" 卦辞："),i("br"),i("div",{staticClass:"line-item"},[i("div",{staticClass:"line-item__version"},[e._v(" 今本："),i("br"),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.info.description,expression:"info.description"}],attrs:{cols:"50",rows:"10"},domProps:{value:e.info.description},on:{input:function(t){t.target.composing||e.$set(e.info,"description",t.target.value)}}})]),i("div",{staticClass:"line-item__version"},[e._v(" 帛本："),i("br"),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.info.silk_description,expression:"info.silk_description"}],attrs:{cols:"50",rows:"10"},domProps:{value:e.info.silk_description},on:{input:function(t){t.target.composing||e.$set(e.info,"silk_description",t.target.value)}}})]),i("div",{staticClass:"line-item__version"},[e._v(" 楚简："),i("br"),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.info.slip_description,expression:"info.slip_description"}],attrs:{cols:"50",rows:"10"},domProps:{value:e.info.slip_description},on:{input:function(t){t.target.composing||e.$set(e.info,"slip_description",t.target.value)}}})]),i("div",{staticClass:"line-item__version"},[e._v(" 卦辞释义："),i("br"),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.info.description_translation,expression:"info.description_translation"}],attrs:{cols:"50",rows:"10"},domProps:{value:e.info.description_translation},on:{input:function(t){t.target.composing||e.$set(e.info,"description_translation",t.target.value)}}})])])]),i("hr"),i("div",[e._v(" 爻辞："),i("br"),e._l(e.line_texts,(function(t,n){return i("div",{key:"text-"+n,staticClass:"line-item"},[i("div",{staticClass:"line-item__version"},[e._v(" 今本："),i("br"),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.stable,expression:"line.stable"}],attrs:{cols:"50",rows:"10"},domProps:{value:t.stable},on:{input:function(i){i.target.composing||e.$set(t,"stable",i.target.value)}}})]),i("div",{staticClass:"line-item__version"},[e._v(" 帛本："),i("br"),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.silk,expression:"line.silk"}],attrs:{cols:"50",rows:"10"},domProps:{value:t.silk},on:{input:function(i){i.target.composing||e.$set(t,"silk",i.target.value)}}})]),i("div",{staticClass:"line-item__version"},[e._v(" 楚简："),i("br"),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.slip,expression:"line.slip"}],attrs:{cols:"50",rows:"10"},domProps:{value:t.slip},on:{input:function(i){i.target.composing||e.$set(t,"slip",i.target.value)}}})]),i("div",{staticClass:"line-item__version"},[e._v(" 释义："),i("br"),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.translation,expression:"line.translation"}],attrs:{cols:"50",rows:"10"},domProps:{value:t.translation},on:{input:function(i){i.target.composing||e.$set(t,"translation",i.target.value)}}})])])}))],2),i("div",[e._v(" 注释："),i("br"),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.info.notes,expression:"info.notes"}],attrs:{cols:"50",rows:"10"},domProps:{value:e.info.notes},on:{input:function(t){t.target.composing||e.$set(e.info,"notes",t.target.value)}}})]),i("div",[i("button",{on:{click:function(t){return t.preventDefault(),e.save.apply(null,arguments)}}},[e._v("保存")])])])},o=[],a=i(669),s=i.n(a),r=i(71),l={data(){return{trigrams:[],info:{order:"",group:"",group_index:"",name:"",silk_name:"",slip_name:"",secondary:"",primary:"",description:"",notes:"",silk_description:"",slip_description:"",description_translation:""},line_texts:[{silk:"",slip:"",stable:"",translation:""},{silk:"",slip:"",stable:"",translation:""},{silk:"",slip:"",stable:"",translation:""},{silk:"",slip:"",stable:"",translation:""},{silk:"",slip:"",stable:"",translation:""},{silk:"",slip:"",stable:"",translation:""},{silk:"",slip:"",stable:"",translation:""}],graphs:{"乾":"☰","坎":"☵","艮":"☶","震":"☳","巽":"☴","离":"☲","坤":"☷","兑":"☱"},group_names:["不变","一变","二变","三变","四变","五变","游魂","归魂"]}},methods:{init(){const e=this;s().get(`${r.H}/diagram/trigrams`).then((t=>{e.trigrams=t.data.result})).catch((e=>e))},update(){const e=this;s().get(`${r.H}/diagram/combination?name=${this.$route.params.name}`).then((t=>{const i=t.data.result;for(let n in e.info)e.info[n]=void 0!==i[n]?i[n]:"";e.line_texts.forEach(((e,t)=>{for(let n in e)"translation"!=n?i.lines[n+"_version"][t]&&(e[n]=i.lines[n+"_version"][t]):e[n]=i.translations[t]?i.translations[t]:""}))})).catch((e=>e))},save(){const e=this,t={silk_version:[],slip_version:[],stable_version:[]},i=[];this.line_texts.forEach(((e,n)=>{for(let o in e)"translation"==o?i[n]=e[o]:t[o+"_version"][n]=e[o]}));const n={...this.info,lines:t,translations:i};s().post(`${r.H}/diagram/combination`,n).then((()=>{e.$router.push({name:"home"})})).catch((e=>e))}},mounted(){this.init(),"create"==this.$route.name?(this.info.group=this.$route.params.group,this.info.group_index=parseInt(this.$route.query.index)):this.update()}},p=l,u=i(1),m=(0,u.Z)(p,n,o,!1,null,"750e028f",null),v=m.exports}}]);
//# sourceMappingURL=360.7ca026db.js.map